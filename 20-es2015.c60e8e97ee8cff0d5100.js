(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{UUSl:function(t,n,o){"use strict";o.r(n),o.d(n,"SignupPageModule",(function(){return h}));var e=o("ofXK"),a=o("3Pt+"),i=o("tyNb"),r=o("TEn/"),s=o("mrSG"),c=o("sybk"),l=o("2m4Y"),b=o("fXoL"),p=o("sYmb");function u(t,n){1&t&&(b.Kb(0,"p",20),b.Kb(1,"ion-text",21),b.kc(2),b.Vb(3,"translate"),b.Jb(),b.Jb()),2&t&&(b.xb(2),b.mc(" ",b.Wb(3,1,"app.label.invalidformat")," "))}function g(t,n){1&t&&(b.Kb(0,"div",22),b.Kb(1,"p",23),b.Ib(2,"ion-icon",24),b.kc(3),b.Vb(4,"translate"),b.Jb(),b.Jb()),2&t&&(b.xb(3),b.mc(" ",b.Wb(4,1,"app.pages.auth.signup.error.existing")," "))}const d=function(){return["/login"]},m=[{path:"",component:(()=>{class t{constructor(t,n,o,e,a,i){this.formBuilder=t,this.loadingCtrl=n,this.toastCtrl=o,this.router=e,this.authService=a,this.translate=i,this.logo="/assets/img/miguitas_logo.png",this.userAlreadyExists=!1}ngOnInit(){this.onSignupForm=this.formBuilder.group({email:[null,a.l.compose([a.l.required])],password:[null,a.l.compose([a.l.required])],phone:[""]})}validateEmail(t){return/\S+@\S+\.\S+/.test(t)}submit(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.loadingCtrl.create();yield t.present(),this.authService.SignUp(this.onSignupForm.get("email").value,this.onSignupForm.get("password").value,this.onSignupForm.get("phone").value).then(n=>Object(s.a)(this,void 0,void 0,(function*(){t.dismiss();const n=yield this.toastCtrl.create({message:this.translate.get("app.pages.auth.signup.success"),duration:4e3,position:"bottom",buttons:[{icon:"close",side:"end"}]});yield n.present(),this.router.navigate(["/login"])}))).catch(n=>Object(s.a)(this,void 0,void 0,(function*(){try{n.contains("Account already exists for this username.")&&(this.userAlreadyExists=!0)}catch(e){}t.dismiss();const o=yield this.toastCtrl.create({message:this.translate.get("app.pages.auth.signup.error"),duration:4e3,position:"bottom",buttons:[{icon:"close",side:"end"}]});yield o.present()})))}))}}return t.\u0275fac=function(n){return new(n||t)(b.Hb(a.a),b.Hb(r.U),b.Hb(r.bb),b.Hb(i.f),b.Hb(c.a),b.Hb(l.a))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-signup"]],decls:35,vars:21,consts:[[1,"auth-page","ion-padding"],[1,"auth-content"],[1,"animate__animated","animate__fadeInUp","animate__fast"],["color","light",1,"ion-padding"],[1,"list-form",3,"formGroup","keyup.enter"],[1,"ion-no-padding"],["position","floating"],["name","mail","slot","start"],["type","email","color","hotpink","formControlName","email"],["class","text08",4,"ngIf"],["name","call","slot","start"],["type","tel","color","hotpink","formControlName","phone"],["name","lock-closed","slot","start"],["type","password","color","hotpink","formControlName","password"],["color","success","size","medium","expand","full","shape","round","tappable","",1,"ion-margin",3,"disabled","click"],["name","sign-up","slot","end"],["class","animate__animated animate__fadeInDown alert alert-danger ion-margin","role","alert",4,"ngIf"],["tappable","",1,"ion-padding",3,"routerLink"],["color","dark"],["name","arrow-back","slot","start"],[1,"text08"],["color","danger"],["role","alert",1,"animate__animated","animate__fadeInDown","alert","alert-danger","ion-margin"],[1,"mt-3"],["name","warning","slot","start",1,"mr-2"]],template:function(t,n){1&t&&(b.Kb(0,"ion-content",0),b.Kb(1,"div",1),b.Kb(2,"div",2),b.Kb(3,"ion-card",3),b.Kb(4,"form",4),b.Sb("keyup.enter",(function(){return!!n.onSignupForm.valid&&n.submit()})),b.Kb(5,"ion-item",5),b.Kb(6,"ion-label",6),b.Ib(7,"ion-icon",7),b.kc(8),b.Vb(9,"translate"),b.Jb(),b.Ib(10,"ion-input",8),b.Jb(),b.jc(11,u,4,3,"p",9),b.Kb(12,"ion-item",5),b.Kb(13,"ion-label",6),b.Ib(14,"ion-icon",10),b.kc(15),b.Vb(16,"translate"),b.Jb(),b.Ib(17,"ion-input",11),b.Jb(),b.Kb(18,"ion-item",5),b.Kb(19,"ion-label",6),b.Ib(20,"ion-icon",12),b.kc(21),b.Vb(22,"translate"),b.Jb(),b.Ib(23,"ion-input",13),b.Jb(),b.Jb(),b.Kb(24,"ion-button",14),b.Sb("click",(function(){return n.submit()})),b.Ib(25,"ion-icon",15),b.kc(26),b.Vb(27,"translate"),b.Jb(),b.jc(28,g,5,3,"div",16),b.Kb(29,"div",17),b.Kb(30,"ion-text",18),b.Kb(31,"strong"),b.Ib(32,"ion-icon",19),b.kc(33),b.Vb(34,"translate"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&t&&(b.xb(4),b.ac("formGroup",n.onSignupForm),b.xb(4),b.mc(" \xa0",b.Wb(9,10,"app.label.email")," "),b.xb(3),b.ac("ngIf",n.onSignupForm.get("email").touched&&n.onSignupForm.get("email").hasError("required")),b.xb(4),b.mc(" \xa0",b.Wb(16,12,"app.label.phone")," "),b.xb(6),b.mc(" \xa0",b.Wb(22,14,"app.label.password")," "),b.xb(3),b.ac("disabled",!n.onSignupForm.valid),b.xb(2),b.mc(" ",b.Wb(27,16,"app.pages.auth.createaccount")," "),b.xb(2),b.ac("ngIf",n.userAlreadyExists),b.xb(1),b.ac("routerLink",b.cc(20,d)),b.xb(4),b.mc(" ",b.Wb(34,18,"app.pages.auth.signup.backtologin")," "))},directives:[r.o,r.i,a.m,a.i,a.c,r.x,r.y,r.s,r.w,r.ab,a.h,a.b,e.j,r.g,r.Y,i.g,r.O],pipes:[p.c],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:linear-gradient(135deg,var(--ion-color-medium),var(--ion-color-light))}.auth-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], .auth-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{padding:0}.auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-ios[_ngcontent-%COMP%], .auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]{border-radius:0}.auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-ios[_ngcontent-%COMP%]:first-of-type, .auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]:first-of-type{border-radius:2px 0 0 2px}.auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-ios[_ngcontent-%COMP%]:last-of-type, .auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]:last-of-type{border-radius:0 2px 2px 0}.auth-page[_ngcontent-%COMP%]   .auth-content[_ngcontent-%COMP%]{margin:auto;max-width:720px}.auth-page[_ngcontent-%COMP%]   .auth-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:80%;max-width:400px;margin:auto;display:block}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(n){return new(n||t)},imports:[[e.b,a.d,a.k,r.S,p.b.forChild(),i.h.forChild(m)]]}),t})()}}]);